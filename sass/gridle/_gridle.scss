// |------------------------------------------------------
// |------------------------------------------------------
// Gridle (.scss)
// Gridle is an one and unique grid system file that allows you to generate almost all
// grid you've ever dreamt about.
// |------------------------------------------------------
// |------------------------------------------------------

// |------------------------------------------------------
// |------------------------------------------------------
// Copyright (c) 2013 Olivier Bossel

// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
// documentation files (the "Software"), to deal in the Software without restriction, including without limitation
// the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software,
// and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

// The above copyright notice and this permission notice shall be included in all copies or substantial portions
// of the Software.

// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
// TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
// THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF
// CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
// IN THE SOFTWARE.
// |------------------------------------------------------
// |------------------------------------------------------

// |------------------------------------------------------
// |------------------------------------------------------
// @created 	25.03.13
// @updated 	11.12.13
// @author 		Olivier Bossel <olivier.bossel@gmail.com>
// @version 	1.1.1
// |------------------------------------------------------
// |------------------------------------------------------

$_gridle-version : "1.1.1";




// |------------------------------------------------------
// |------------------------------------------------------
// | Settings
// |------------------------------------------------------
// |------------------------------------------------------

// gridle configuration vars :
$gridle-columns-count 					: 12 !default;
$gridle-gutter-width 					: 20px !default;
$gridle-name-multiplicator 				: 1 !default;

$gridle-direction 						: ltr !default;

$gridle-debug 							: false !default;
$gridle-debug-show-class-names 			: true !default;

$gridle-ie7-support 					: true !default;

$gridle-html-states-classes 			: false !default;

$gridle-generate-helpers-classes 		: true !default;
$gridle-generate-push-classes 			: true !default;
$gridle-generate-pull-classes 			: true !default;
$gridle-generate-prefix-classes 		: true !default;
$gridle-generate-suffix-classes 		: true !default;

$gridle-debug-selector 					: ".gridle-debug &, &.gridle-debug" !default;

$gridle-class-prefix 					: '' !default;
$gridle-class-separator 				: '-' !default;

$gridle-container-name-pattern 			: ('container') !default;

$gridle-grid-name-pattern 				: ('grid','%-','%state','%-','%count') !default;
$gridle-push-name-pattern 				: ('push','%-','%state','%-','%count') !default;
$gridle-pull-name-pattern 				: ('pull','%-','%state','%-','%count') !default;
$gridle-prefix-name-pattern 			: ('prefix','%-','%state','%-','%count') !default;
$gridle-suffix-name-pattern 			: ('suffix','%-','%state','%-','%count') !default;

$gridle-parent-name-pattern 			: ('parent','%-','%state') !default;
$gridle-centered-name-pattern 			: ('centered','%-','%state') !default;

$gridle-hide-name-pattern 				: ('hide','%-','%state') !default;
$gridle-show-name-pattern 				: ('show','%-','%state') !default;
$gridle-not-visible-name-pattern 		: ('not','%-','visible','%-','%state') !default;
$gridle-visible-name-pattern 			: ('visible','%-','%state') !default;

$gridle-float-left-name-pattern 		: ('float','%-','%state','%-','left') !default;
$gridle-float-right-name-pattern 		: ('float','%-','%state','%-','right') !default;

$gridle-clear-name-pattern 				: ('clear','%-','%state') !default;
$gridle-clear-left-name-pattern 		: ('clear','%-','%state','%-','left') !default;
$gridle-clear-right-name-pattern 		: ('clear','%-','%state','%-','right') !default;

$gridle-no-gutter-name-pattern 			: ('no','%-','gutter','%-','%state') !default;
$gridle-no-gutter-left-name-pattern 	: ('no','%-','gutter','%-','%state','%-','left') !default;
$gridle-no-gutter-right-name-pattern 	: ('no','%-','gutter','%-','%state','%-','right') !default;
$gridle-no-gutter-top-name-pattern 		: ('no','%-','gutter','%-','%state','%-','top') !default;
$gridle-no-gutter-bottom-name-pattern 	: ('no','%-','gutter','%-','%state','%-','bottom') !default;

$gridle-no-margin-name-pattern 			: ('no','%-','margin','%-','%state') !default;
$gridle-no-margin-left-name-pattern 	: ('no','%-','margin','%-','%state','%-','left') !default;
$gridle-no-margin-right-name-pattern 	: ('no','%-','margin','%-','%state','%-','right') !default;
$gridle-no-margin-top-name-pattern 		: ('no','%-','margin','%-','%state','%-','top') !default;
$gridle-no-margin-bottom-name-pattern 	: ('no','%-','margin','%-','%state','%-','bottom') !default;

$gridle-gutter-name-pattern 			: ('gutter','%-','%state') !default;
$gridle-gutter-left-name-pattern 		: ('gutter','%-','%state','%-','left') !default;
$gridle-gutter-right-name-pattern 		: ('gutter','%-','%state','%-','right') !default;
$gridle-gutter-top-name-pattern 		: ('gutter','%-','%state','%-','top') !default;
$gridle-gutter-bottom-name-pattern 		: ('gutter','%-','%state','%-','bottom') !default;

$gridle-margin-name-pattern 			: ('margin','%-','%state') !default;
$gridle-margin-left-name-pattern 		: ('margin','%-','%state','%-','left') !default;
$gridle-margin-right-name-pattern 		: ('margin','%-','%state','%-','right') !default;
$gridle-margin-top-name-pattern 		: ('margin','%-','%state','%-','top') !default;
$gridle-margin-bottom-name-pattern 		: ('margin','%-','%state','%-','bottom') !default;

$gridle-auto-height-name-pattern 		: ('auto','%-','height','%-','%state') !default;

$gridle-debug-color-name-pattern 		: ('debug','%-','color','%-','%state','%-','%count') !default;


// |------------------------------------------------------
// |------------------------------------------------------
// | Variables
// |------------------------------------------------------
// |------------------------------------------------------

$_gridle_states_vars_pattern : ('name', 'min-width', 'max-width', 'query', 'classes', 'context');
$_gridle_states : ();						// the variable list for each states
$_gridle_states_debug_devices : (); 	// save the debug states devices




// |------------------------------------------------------
// |------------------------------------------------------
// | Silent classes
// |------------------------------------------------------
// |------------------------------------------------------

// Init gridle
// Creating the silent classes with user configuration :
%gridle-pie-clearfix {
	&:after {
		content: ".";
		display: block;
		clear: both;
		visibility: hidden;
		line-height: 0;
		height: 0;
	}
	 
	& {
		display: inline-block;
	}
	 
	html[xmlns] & {
		display: block;
	}
	 
	* html & {
		height: 1%;
	}
}
%gridle-simple-clearfix {
	&:after {
		content: "";
		display: table;
		clear: both;
	}
}
%gridle-clearfix {
	// For modern browser
	&:before,
	&:after {
		content:"";
		display:table;
	}
	&:after {
		clear:both;
	}
	// For IE 6/7 (trigger hasLayout
	& {
	   zoom:1;
	}
}
%gridle-push-pull-debug-background-common {
	background-size:50px 90%;
	background-position:0 50%;
	background-repeat:repeat-x;
}
%gridle-push-pull-common {
	position:relative;
}
%gridle-container-common {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}
%gridle-parent-common {
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}
%gridle-container-debug-common {
	background-color:#f5f5f5;
}
%gridle-grid-debug-common {
	&:before,
	&:after {
		content:"";
		display:block;
		background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRkEzNzVFNTg1NjgxMUUyOUI4RjhEMzg4QzM4QjZFOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRkEzNzVFNjg1NjgxMUUyOUI4RjhEMzg4QzM4QjZFOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjBGQTM3NUUzODU2ODExRTI5QjhGOEQzODhDMzhCNkU4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjBGQTM3NUU0ODU2ODExRTI5QjhGOEQzODhDMzhCNkU4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++5+BhQAAAA9JREFUeNpiYGBgkAIIMAAAHwAbZIBtGgAAAABJRU5ErkJggg==);
		margin:10px 0;
		padding:5px 0;
		text-align:center;
		color:white;
		font-size:11px;
		-webkit-box-sizing: border-box;
		-moz-box-sizing: border-box;
		box-sizing: border-box;
		display:block !important;
	}
	background-color:#daeff5;
}
%gridle-grid-common {
	display:inline-block;
	min-height:1px;
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}
%gridle-prefix-debug-common {
	background-color:#dae7e9 !important;
}
%gridle-suffix-debug-common {
	background-color:#dae7e9 !important;
}




// |------------------------------------------------------
// |------------------------------------------------------
// | Common mixins
// |------------------------------------------------------
// |------------------------------------------------------


// Common css that cannot be extended cause of variables :
@mixin _gridle_container_common() {
	@extend %gridle-simple-clearfix;
	@extend %gridle-container-common;
	// debug part :
	@if ($gridle-debug == true) {
		#{$gridle-debug-selector} {
			@extend %gridle-container-debug-common;
		}
	}
}
@mixin _gridle_grid_common() {
	@extend %gridle-grid-common;
	@if $gridle-direction == rtl {
		float:right;
		direction:rtl;
	} @else {
		float:left;
		direction:ltr;
	}

	// set padding :
	padding:0 $gridle-gutter-width/2;
	@if $gridle-debug == true {
		#{$gridle-debug-selector} {
			@extend %gridle-grid-debug-common;
		}
	}
}
@mixin _gridle_parent_common() {
	@extend %gridle-clearfix;
	@extend %gridle-parent-common;
}
@mixin _gridle_push_common() {
	// extend common :
	@extend %gridle-push-pull-common;
	@if $gridle-debug == true {
		#{$gridle-debug-selector} {
			@extend %gridle-push-pull-debug-background-common;
			background-color:#f4efdf !important;
			@if $gridle-direction == ltr {
				background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDQzZDQUQ0Rjg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDQzZDQUQ1MDg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkNDNkNBRDREODUwNjExRTI4RDAyODNGOEZCQTAwN0M3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNDNkNBRDRFODUwNjExRTI4RDAyODNGOEZCQTAwN0M3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FdXphgAAA39JREFUeNrs3cGKwjAUQNGm7f//8FQyo66E6oAS8/Jy7qY7peEdGyFoqbUuks5bLYEEiPRWe8sXL6XcLq3fp2PX/elhjBotboDt/2qIPvsMSIxfX9xiQSJAIBEgkEACCCSQqBcQSAQIJJAAAgkkgEACCSCQQKLAQCARIJDckBRjBwgkz5FskAACCSSAQAIJIJBAAggkkGhUIJAIEEggAQQSSACBBBJAIIEEEEggAWTsIBEgkEACCCSQAAIJJIBAAgkgkEACCCSQAJI2SAQIJJAAAgkkgEACCSCQQAIIJJAAAgkkgEACCSALJJAIEEgECCSQAAIJJIBAAgkgkEACCCSQAAIJJIBAAgkggkSAQAIJIJBAAggkkAACCSSAQAIJIJBAAggkkAAiSAARJPMiAQQSSACBBBJAIIEEEEggAQQSSACBBBJAIIEEEP2L5AcSQPQ6SAARJIAIkmmQAAIJJIBAAgkgkEACCCSQAAIJJIAIEkAEydBIAIEEEkCGywFHQPQip4ABESTxkQACCSSAQAIJIJBAAggkkAAiSAARJKdI9khIAIEkYmGQAAJJWCTlL0AESWAkgEACCSCQQAIIJJAAIkgAESRBkAACCSSAQAIJIJoPydbaCCD52xLf26XWCog+wpH1z22O2loHIOlxrHAAIjgAERzfxgEIHHAAAgccgMABByCCAxDBEQQHIHCExbHcj8ksgAiOoDgAgQMOQOCA4/12MwdH564oLhFxeILAAQcgcMABCBxwAAIHHIAIDkAEByCCY2gcgMABByBwwAEIHHAAAgccgMABByBwwAGI4ABEcGTFAQgccAACBxyAwAEHIHDAAQgccATKjza0W9cCByB6rCRe0+lw2GLBAQcgcMABCBxwAAIHHIDAAQcgcMABCBxwAAIHHIAIDkAEhwCBAw5A4IADEDjgAAQOOACBAw5A4IADEDjgAAQOOACBAw5NDwQOAQKHAIEDDkDggAMQOOAABA44AIEDDkDggAMQOOAABA44NAcQOAQIHAIEDjgAgQMOQOCAAxA44AAEDjgAgQMOrXDAoVxA4BAgcAgQOOAABA44AIEDDkDggAMQOOBQeCBwCBA4BAgccAACBxyAwAHHdO1wNMdxGDNPEDjgAAQOOACBAw51BQKHAIFDgMABByBwwAEIHHCoAxA4NHSlVicgpAhf0iVApEz9CjAA65/oofjgOdQAAAAASUVORK5CYII=);
			} @else {
				background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDQzZDQUQ0Qjg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDQzZDQUQ0Qzg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdDQjlFNzVFODUwNjExRTI4RDAyODNGOEZCQTAwN0M3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNDNkNBRDRBODUwNjExRTI4RDAyODNGOEZCQTAwN0M3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ee9ybwAAA3JJREFUeNrs3dEKgkAQQNE27f9/uJoM6iXKwFLH8Vzw1WjdwxZt2iLiIOl9R0MgASJNqp/z5K01I5znOle9GOeY8XuCFQQOOACBAw5ABAcggiMW/G0CEDjgAAQOOACBAw5ABAcggiMBjufgapvdUXRwWEG0QxzDkWKbOSBwwAEIHHAAAgccgMABByCCAxDBkRsHIHDAAQgccAACBxyAwAEHIHDAAYjgAERwbBoHIHDAAQgccAACBxyAwAEHIHDAAQgccAAiOAARHFVxAAIHHIDAAQcgcMABCBxwAAIHHIDAAQcgcMABiOAARHAAIjjgAAQOOACBAw5A4IADEDjgAAQOOACBAw5A4IADEDjgAAQOOAQIHAIEDjgAgQMOQOCAAxA44AAEDjgAgQMOQOCAAxA44NhjPRxligcOAQLHS9fhuJjOPmLBAQcgcMABCBxwAAIHHIDAAQcgcMABCBxwqCwQOAQIHAIEDjgAgQMOQOCAAxA44AAEDjgAgQMObRUIHAIEDgECBxyAwAEHIHDAUbo+MY6qN5SAwwoCBxyAwAEHIHDAAQgccCgtEDgECBwCBA44AIEDDkDggEMrAIFDgMAhQOCAAxA4vhRwAPJrXeHxgwMQk2ik/lD3ablaCEj1p69CAggkkAACCSRaEQgkAgQSSACBBBJAIIFEa/9hChIBAgkkgEACCSCLIAlIBMhnJBdIBAgkAgQSSACBBBJAIIEEEEgg0eaAQCJAICl7YwtAIPlbJ1MSEEggAQQSSACBBBJAIIEEEEggUVEgkAgQSCABBBJIAIEEEkAggQQQSFZHYoMjIJCMZBcwIJBAAggkkAACCSSAQAIJIJBAAggkkACy4/cOiQCBBBJAIIEEEEggAQQSSACBBBJAIIEEEEggAQQSSAARJAIEEkgAgQQSQCCBBBBIIAEEEkgAgQQSQCCBBBBBAogggQQQSCABBBJIAIEEEkAggQQQSCABBBJIABEkgAiSwkgAgQQSQCCBBBBIIAEEEkgAgQQSQCCBBBBB0gARJEWRAAIJJIBAAgkgkEACCCSQACJIABEk+ZEAAgkkgEACCSCQQAIIJJAAojEkZ0gA0XiQACJIABEkH5G0IUAESWIkgEACCSCQQAKIIAFEkAAiSJIgAQQSSACBBJKJLzLnySPCFM2BRFYQCRBp0W4CDAAOV/Wfo7G12gAAAABJRU5ErkJggg==);
			}
		}
	}
}
@mixin _gridle_pull_common() {
	@extend %gridle-push-pull-common;
	@if $gridle-debug == true {
		#{$gridle-debug-selector} {
			@extend %gridle-push-pull-debug-background-common;
			background-color:#cfe4d5 !important;
			@if $gridle-direction == ltr {
				background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDQzZDQUQ0Qjg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDQzZDQUQ0Qzg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdDQjlFNzVFODUwNjExRTI4RDAyODNGOEZCQTAwN0M3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNDNkNBRDRBODUwNjExRTI4RDAyODNGOEZCQTAwN0M3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ee9ybwAAA3JJREFUeNrs3dEKgkAQQNE27f9/uJoM6iXKwFLH8Vzw1WjdwxZt2iLiIOl9R0MgASJNqp/z5K01I5znOle9GOeY8XuCFQQOOACBAw5ABAcggiMW/G0CEDjgAAQOOACBAw5ABAcggiMBjufgapvdUXRwWEG0QxzDkWKbOSBwwAEIHHAAAgccgMABByCCAxDBkRsHIHDAAQgccAACBxyAwAEHIHDAAYjgAERwbBoHIHDAAQgccAACBxyAwAEHIHDAAQgccAAiOAARHFVxAAIHHIDAAQcgcMABCBxwAAIHHIDAAQcgcMABiOAARHAAIjjgAAQOOACBAw5A4IADEDjgAAQOOACBAw5A4IADEDjgAAQOOAQIHAIEDjgAgQMOQOCAAxA44AAEDjgAgQMOQOCAAxA44NhjPRxligcOAQLHS9fhuJjOPmLBAQcgcMABCBxwAAIHHIDAAQcgcMABCBxwqCwQOAQIHAIEDjgAgQMOQOCAAxA44AAEDjgAgQMObRUIHAIEDgECBxyAwAEHIHDAUbo+MY6qN5SAwwoCBxyAwAEHIHDAAQgccCgtEDgECBwCBA44AIEDDkDggEMrAIFDgMAhQOCAAxA4vhRwAPJrXeHxgwMQk2ik/lD3ablaCEj1p69CAggkkAACCSRaEQgkAgQSSACBBBJAIIFEa/9hChIBAgkkgEACCSCLIAlIBMhnJBdIBAgkAgQSSACBBBJAIIEEEEgg0eaAQCJAICl7YwtAIPlbJ1MSEEggAQQSSACBBBJAIIEEEEggUVEgkAgQSCABBBJIAIEEEkAggQQQSFZHYoMjIJCMZBcwIJBAAggkkAACCSSAQAIJIJBAAggkkACy4/cOiQCBBBJAIIEEEEggAQQSSACBBBJAIIEEEEggAQQSSAARJAIEEkgAgQQSQCCBBBBIIAEEEkgAgQQSQCCBBBBBAogggQQQSCABBBJIAIEEEkAggQQQSCABBBJIABEkgAiSwkgAgQQSQCCBBBBIIAEEEkgAgQQSQCCBBBBB0gARJEWRAAIJJIBAAgkgkEACCCSQACJIABEk+ZEAAgkkgEACCSCQQAIIJJAAojEkZ0gA0XiQACJIABEkH5G0IUAESWIkgEACCSCQQAKIIAFEkAAiSJIgAQQSSACBBJKJLzLnySPCFM2BRFYQCRBp0W4CDAAOV/Wfo7G12gAAAABJRU5ErkJggg==);
			} @else {
				background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDQzZDQUQ0Rjg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDQzZDQUQ1MDg1MDYxMUUyOEQwMjgzRjhGQkEwMDdDNyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkNDNkNBRDREODUwNjExRTI4RDAyODNGOEZCQTAwN0M3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkNDNkNBRDRFODUwNjExRTI4RDAyODNGOEZCQTAwN0M3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FdXphgAAA39JREFUeNrs3cGKwjAUQNGm7f//8FQyo66E6oAS8/Jy7qY7peEdGyFoqbUuks5bLYEEiPRWe8sXL6XcLq3fp2PX/elhjBotboDt/2qIPvsMSIxfX9xiQSJAIBEgkEACCCSQqBcQSAQIJJAAAgkkgEACCSCQQKLAQCARIJDckBRjBwgkz5FskAACCSSAQAIJIJBAAggkkGhUIJAIEEggAQQSSACBBBJAIIEEEEggAWTsIBEgkEACCCSQAAIJJIBAAgkgkEACCCSQAJI2SAQIJJAAAgkkgEACCSCQQAIIJJAAAgkkgEACCSALJJAIEEgECCSQAAIJJIBAAgkgkEACCCSQAAIJJIBAAgkggkSAQAIJIJBAAggkkAACCSSAQAIJIJBAAggkkAAiSAARJPMiAQQSSACBBBJAIIEEEEggAQQSSACBBBJAIIEEEP2L5AcSQPQ6SAARJIAIkmmQAAIJJIBAAgkgkEACCCSQAAIJJIAIEkAEydBIAIEEEkCGywFHQPQip4ABESTxkQACCSSAQAIJIJBAAggkkAAiSAARJKdI9khIAIEkYmGQAAJJWCTlL0AESWAkgEACCSCQQAIIJJAAIkgAESRBkAACCSSAQAIJIJoPydbaCCD52xLf26XWCog+wpH1z22O2loHIOlxrHAAIjgAERzfxgEIHHAAAgccgMABByCCAxDBEQQHIHCExbHcj8ksgAiOoDgAgQMOQOCA4/12MwdH564oLhFxeILAAQcgcMABCBxwAAIHHIAIDkAEByCCY2gcgMABByBwwAEIHHAAAgccgMABByBwwAGI4ABEcGTFAQgccAACBxyAwAEHIHDAAQgccATKjza0W9cCByB6rCRe0+lw2GLBAQcgcMABCBxwAAIHHIDAAQcgcMABCBxwAAIHHIAIDkAEhwCBAw5A4IADEDjgAAQOOACBAw5A4IADEDjgAAQOOACBAw5NDwQOAQKHAIEDDkDggAMQOOAABA44AIEDDkDggAMQOOAABA44NAcQOAQIHAIEDjgAgQMOQOCAAxA44AAEDjgAgQMOrXDAoVxA4BAgcAgQOOAABA44AIEDDkDggAMQOOBQeCBwCBA4BAgccAACBxyAwAHHdO1wNMdxGDNPEDjgAAQOOACBAw51BQKHAIFDgMABByBwwAEIHHCoAxA4NHSlVicgpAhf0iVApEz9CjAA65/oofjgOdQAAAAASUVORK5CYII=);
			}
		}
	}
}
@mixin _gridle_prefix_common() {
	@if $gridle-debug == true {
		#{$gridle-debug-selector} {
			@extend %gridle-prefix-debug-common;
		}
	}
}
@mixin _gridle_suffix_common() {
	@if $gridle-debug == true {
		#{$gridle-debug-selector} {
			@extend %gridle-suffix-debug-common;
		}
	}
}




// |------------------------------------------------------
// |------------------------------------------------------
// | Functions
// |------------------------------------------------------
// |------------------------------------------------------


// Get column width :
@function gridle_get_columns_width(
	$columns : 1,
	$context : $gridle-columns-count
) {
	@return percentage(1 / $context * $columns);
}
@function gridle_get_column_width(
	$columns : 1,
	$context : $gridle-columns-count
) { 
	@return gridle_get_columns_width($columns, $context);
}

// generate classname :
@function _gridle_classname(
	$pattern,
	$media : null,
	$count : null
) {

	// init selector :
	$sel : ".";

	// add class prefix :
	@if $gridle-class-prefix and $gridle-class-prefix != '' {
		$sel : "#{$sel}#{$gridle-class-prefix}";
		@if $gridle-class-separator {
			$sel : "#{$sel}#{$gridle-class-separator}";
		}
	}

	// construct class name :
	$i : 1;
	@each $var in $pattern {
		
		// replace tokens :
		@if $var == '%state' and $media {
			$sel : "#{$sel}#{$media}";
		} 
		@if $var == '%count' and $count {
			$sel : "#{$sel}#{$count}";
		}  
		@if $var != '%state' and $var != '%count' and $var != '%-' and $var != '%prefix' {
			$sel : "#{$sel}#{$var}";
		}

		// handle separators :
		@if $var == '%-' and $i < length($pattern) {
			$index : $i + 1;
			$value : nth($pattern, $index);
			@if $value != '%state' and $value != '%count' and $value != '%-' and $value != '%prefix' {
				$sel : "#{$sel}#{$gridle-class-separator}";
			}
			@if $value == '%state' and $media {
				$sel : "#{$sel}#{$gridle-class-separator}";
			}
			@if $value == '%count' and $count {
				$sel : "#{$sel}#{$gridle-class-separator}";
			}
		}

		// update i :
		$i : $i + 1;
	}

	// return generated class :
	@return $sel;
}


// Get media query by state :
@function _get_media_query_for_state(
	$state-or-min-width : null,
	$max-width : null
) {
	// get the index of state :
	$idx : _gridle_get_state_index_by_name($state-or-min-width);

	// if there's an idx, the state requested is a registered one :
	@if $idx {
		// get vars :
		$name : _gridle_get_state_var($idx,"name");
		$min-width : _gridle_get_state_var($idx,"min-width");
		$max-width : _gridle_get_state_var($idx,"max-width");
		$classes : _gridle_get_state_var($idx,"classes");
		$query : _gridle_get_state_var($idx,"query");

		// check if exist :
		@if $name {
			// check if query exist :
			@if $query {
				@return $query;
			} @else {

				// write media query :
				@if $min-width and $max-width {
					@return "screen and (min-width: #{$min-width}) and (max-width: #{$max-width})";
				} @else if $min-width == null and $max-width {
					@return "screen and (max-width: #{$max-width})";
				} @else if $min-width and $max-width == null {
					@return "screen and (min-width: #{$min-width})";
				} @else {
					@return null;
				}
			}
		}
	} @else if $state-or-min-width == 'print' or $state-or-min-width == print {
		@return "only print";
	} @else if $state-or-min-width == 'tv' or $state-or-min-width == tv {
		@return "only tv";
	} @else if $state-or-min-width == 'portrait' or $state-or-min-width == portrait {
		@return "only screen and (orientation: portrait)";
	} @else if $state-or-min-width == 'landscape' or $state-or-min-width == landscape {
		@return "only screen and (orientation: landscape)";
	} @else if $state-or-min-width == 'retina' or $state-or-min-width == retina {
		@return "only screen and (-webkit-min-device-pixel-ratio: 2), only screen and (min--moz-device-pixel-ratio: 2), only screen and (-o-min-device-pixel-ratio: 2/1), only screen and (min-device-pixel-ratio: 2), only screen and (min-resolution: 192dpi), only screen and (min-resolution: 2dppx)";
	} @else {
		// check for min and max width :
		@if $state-or-min-width and $max-width {
			@return "screen and (min-width: #{$state-or-min-width}) and (max-width: #{$max-width})";
		} @else if $state-or-min-width and $max-width == null {
			@return "screen and (min-width: #{$state-or-min-width})";
		} @else if $state-or-min-width == null and $max-width {
			@return "screen and (max-width: #{$max-width})";
		} @else {
			@return null;
		}
	}
}


// Get value index in state vars package list
@function _gridle_get_state_var_index(
	$stateName-or-stateIndex : 1,
	$var : "name"
) {

	// check type of index :
	$index : 1;
	@if (type-of($stateName-or-stateIndex) != number)
	{
		$index : _gridle_get_state_index_by_name($stateName-or-stateIndex);
	} @else {
		$index : $stateName-or-stateIndex;
	}

	// get index of variable :
	$varIdx : 1;
	$varIdx : index($_gridle_states_vars_pattern, $var);

	// calculate the actual value idx in the list :
	$valueIdx : ($index - 1) * length($_gridle_states_vars_pattern) + $varIdx;
	
	// if value idx is bigger than the actual list length, return null :
	@if length($_gridle_states) < $valueIdx {
		@return null;
	}

	// return the index :
	@return $valueIdx;
}


// Get the media queries variables :
// @param 	int 	$index 	 	The media query indes
// @param 	String 	$var 		The media query variable name
// @return 	String|int 			The variable value
@function _gridle_get_state_var(
	$stateName-or-stateIndex 	: 1,
	$var 	: "name"
) {

	// get the value idx :
	$valueIdx : _gridle_get_state_var_index($stateName-or-stateIndex, $var);

	// check value :
	@if $valueIdx == null {
		@return null;
	}

	// get the value :
	$value : nth($_gridle_states, $valueIdx);

	// return null if value is -1 :
	@if $value == -1 {
		$value : null;
	}

	// return the value :
	@return $value;
}


/**
 * Get states count :
 */
@function _gridle_states_count() {
	@return length($_gridle_states) / length($_gridle_states_vars_pattern);
}


/**
 * Set media query var :
 */
@function _gridle_set_state_var(
	$stateName-or-stateIndex,
	$var,
	$newValue
) {
	// get the value index in the list :
	$valueIdx : _gridle_get_state_var_index($stateName-or-stateIndex, $var);

	// check value :
	@if $valueIdx == null {
		@return null;
	}

	// replace the value :
	$_gridle_states : replace-nth($_gridle_states, $valueIdx, $newValue);

	// return the list :
	@return $_gridle_states;
}


@function replace-nth($list, $index, $value) {
	$result: null;

	@if type-of($index) != number {
		@warn "$index: #{quote($index)} is not a number for `replace-nth`.";
	}

	@else if $index == 0 {
		@warn "List index 0 must be a non-zero integer for `replace-nth`.";
	}

	@else if abs($index) > length($list) {
		@warn "List index is #{$index} but list is only #{length($list)} item long for `replace-nth`.";
	}

	@else {
		$result: ();
		$index: if($index < 0, length($list) + $index + 1, $index);  

		@for $i from 1 through length($list) {
			@if $i == $index {
				$result: append($result, $value);
			}

			@else {
				$result: append($result, nth($list, $i));
			}
		}
	}

	@return $result;
}


// Get the index of an media query by name
// @param 	String 	$name 	The nme of the media query
// @return 	int 			The index of the media query
@function _gridle_get_state_index_by_name(
	$name
) {
	// if no name, return null :
	@if $name == null {
		@return null;
	}

	// try to find the index from name :
	$i : 1;
	$group : 0;
	@each $value in $_gridle_states {
		$int : ($i - 1) / length($_gridle_states_vars_pattern);
		@if round($int) == $int {
			$group : $group + 1;
		}
		@if $name == $value {
			// calculate state index :
			@return $group;
		}
		$i : $i + 1;
	}

	// nothing found :
	@return null;
}




// |------------------------------------------------------
// |------------------------------------------------------
// | Mixins
// |------------------------------------------------------
// |------------------------------------------------------



// Register an state :
@mixin gridle_register_state(
	$name,
	$min-width-or-query : null,
	$max-width-or-classes-generation : null,
	$classes-generation : true,
	$context : $gridle-columns-count
) {

	$index : length($_gridle_states) * length($_gridle_states_vars_pattern);

	// process variables :
	$name : $name;
	$min-width : -1;
	$max-width : -1;
	$query : -1;
	$classes : true;
	$context : $context;
	@if type-of($min-width-or-query) == string {
		$query : $min-width-or-query;
	} @else {
		@if $min-width-or-query {
			$min-width : $min-width-or-query;
		}
	}
	@if type-of($max-width-or-classes-generation) == bool {
		$classes : $max-width-or-classes-generation;
	} @else {
		@if $max-width-or-classes-generation {
			$max-width : $max-width-or-classes-generation;
		}
		$classes : $classes-generation;
	}

	$_gridle_states : append($_gridle_states, $name);
	$_gridle_states : append($_gridle_states, $min-width);
	$_gridle_states : append($_gridle_states, $max-width);
	$_gridle_states : append($_gridle_states, $query);
	$_gridle_states : append($_gridle_states, $classes);
	$_gridle_states : append($_gridle_states, $context);
}


// Register default states :
@mixin gridle_register_default_states() {
	// register mobile and tablet states :
	@include gridle_register_state("mobile",null,480px);
	@include gridle_register_state("tablet",481px,1024px);
}


// set context by state :
@mixin gridle_set_context_for_state(
	$state,
	$context
) {
	// set context in state :
	$var : _gridle_set_state_var($state, "context", $context);
}


// set state debug device :
@mixin gridle_set_debug_device(
	$state : null,
	$device : null
) {

	// check params :
	@if $state and $device {
		// set the state device :
		$_gridle_states_debug_devices : append($_gridle_states_debug_devices, unquote("\"#{$state}\" : \"#{$device}\""), comma);
	}

}


// Responsive helpers mixins :
@mixin gridle_state(
	$state-or-min-width,
	$max-width : null,
	$has-parent : true
) {

	// query list :
	$query : ();

	// loop on each states :
	@each $_state-or-min-width in $state-or-min-width {

		// check if is a state :
		@if type-of($_state-or-min-width) == string and ($gridle-html-states-classes or $gridle-debug) {
			// html class :
			@if $has-parent {
				html#{_gridle_classname("#{$_state-or-min-width}")} & { @content; }
			} @else {
				html#{_gridle_classname("#{$_state-or-min-width}")} { @content; }
			}
		}

		// get the media query :
		$q : _get_media_query_for_state($_state-or-min-width, $max-width);
		@if $q {
			$query : append($query, unquote("#{$q}"), comma);
		}
	}

	// check and print media query :
	@if length($query) {
		@media #{$query} {
			@content;
		}
	}
}



// Container mixin :
@mixin gridle_container(
) {
	@include _gridle_container_common();
}


// Grid mixin :
// Set the width of the specified grid column :
@mixin gridle(
	$columns : $gridle-columns-count,
	$state-context : null,
	$state : null
) {
	// common :
	@include _gridle_grid_common();
	// variables :
	$context : $gridle-columns-count;
	@if type-of($state-context) == number {
		$state : $state;
		$context : $state-context;
	} @elseif $state-context {
		$state : $state-context;
		$context : _gridle_get_state_var($state,'context');
	}
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle($columns, $state, $context);
		}
	} @else {
		@include _gridle($columns,$state,$context);
	}
}
@mixin _gridle(
	$columns : $gridle-columns-count,
	$state : null,
	$context : $gridle-columns-count
) {
	// vars :
	$width : percentage(1 / $context * $columns);
	width:$width;
	
	// ie7 support :
	@if $gridle-ie7-support == true {
		*width: expression((this.parentNode.clientWidth/#{$context}*#{$columns} - parseInt(this.currentStyle['paddingLeft']) - parseInt(this.currentStyle['paddingRight'])) + 'px');
	}
	
	// debug :
	@if $gridle-debug == true and $gridle-debug-show-class-names == true {
		#{$gridle-debug-selector} {
			&:before {
				content:"grid-#{$state}-#{$columns * $gridle-name-multiplicator}";
			}
			&.parent:before {
				content:"grid-parent-#{$state}-#{$columns * $gridle-name-multiplicator}";
			}
		}
	}
}


// push :
// Push the element of the count of column wanted
@mixin gridle_push(
	$columns : $gridle-columns-count,
	$state-context : null,
	$state : null
) {
	// common :
	@include _gridle_push_common();
	// variables :
	$context : $gridle-columns-count;
	@if type-of($state-context) == number {
		$state : $state;
		$context : $state-context;
	} @else {
		$state : $state-context;
		$context : _gridle_get_state_var($state,'context');
	}
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_push($columns,$state,$context);
		}
	} @else {
		@include _gridle_push($columns,$state,$context);
	}
}
@mixin _gridle_push(
	$columns : $gridle-columns-count,
	$state : null,
	$context : $gridle-columns-count
) {
	// vars :
	$width : percentage(1 / $context) * $columns;
	@if $gridle-direction == rtl { $width : $width*-1; }
	left:$width;

	// debug css :
	@if $gridle-debug == true and $gridle-debug-show-class-names == true {
		#{$gridle-debug-selector} {
			&:after {
				content:"push-#{$state}-#{$columns * $gridle-name-multiplicator}" !important;
			}
		}
	}

}


// pull :
// Pull the element of the count of column wanted
@mixin gridle_pull(
	$columns : $gridle-columns-count,
	$state-context : null,
	$state : null
) {
	// common :
	@include _gridle_pull_common();
	// variables :
	$context : $gridle-columns-count;
	@if type-of($state-context) == number {
		$state : $state;
		$context : $state-context;
	} @else {
		$state : $state-context;
		$context : _gridle_get_state_var($state,'context');
	}
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_pull($columns,$state,$context);
		}
	} @else {
		@include _gridle_pull($columns,$state,$context);
	}
}
@mixin _gridle_pull(
	$columns : $gridle-columns-count,
	$state : null,
	$context : $gridle-columns-count
) {
	// vars :
	$width : percentage(1 / $context) * $columns;
	@if $gridle-direction == rtl { $width : $width*-1; }
	right:$width;

	// debug css :
	@if $gridle-debug == true and $gridle-debug-show-class-names == true {
		#{$gridle-debug-selector} {
			&:after {
				content:"pull-#{$state}-#{$columns * $gridle-name-multiplicator}" !important;
			}
		}
	}
}


// push :
// Push the element of the count of column wanted
@mixin gridle_prefix(
	$columns : $gridle-columns-count,
	$state-context : null,
	$state : null
) {
	// common :
	@include _gridle_prefix_common();
	// variables :
	$context : $gridle-columns-count;
	@if type-of($state-context) == number {
		$state : $state;
		$context : $state-context;
	} @else {
		$state : $state-context;
		$context : _gridle_get_state_var($state,'context');
	}
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_prefix($columns,$state,$context);
		}
	} @else {
		@include _gridle_prefix($columns,$state,$context);
	}
}
@mixin _gridle_prefix(
	$columns : $gridle-columns-count,
	$state : null,
	$context : $gridle-columns-count
) {
	// vars :
	$width : percentage(1 / $context) * $columns;
	@if $gridle-direction == rtl { margin-right:$width; }
	@else { margin-left:$width; }

	// debug css :
	@if $gridle-debug == true and $gridle-debug-show-class-names == true {
		#{$gridle-debug-selector} {
			&:after {
				content:"prefix-#{$state}-#{$columns * $gridle-name-multiplicator}" !important;
			}
		}
	}
}


// pull :
// Pull the element of the count of column wanted
@mixin gridle_suffix(
	$columns : $gridle-columns-count,
	$state-context : null,
	$state : null
) {
	// common :
	@include _gridle_suffix_common();
	// variables :
	$context : $gridle-columns-count;
	@if type-of($state-context) == number {
		$state : $state;
		$context : $state-context;
	} @else {
		$state : $state-context;
		$context : _gridle_get_state_var($state,'context');
	}
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_suffix($columns,$state,$context);
		}
	} @else {
		@include _gridle_suffix($columns,$state,$context);
	}
}
@mixin _gridle_suffix(
	$columns : $gridle-columns-count,
	$state : null,
	$context : $gridle-columns-count
) {
	// vars :
	$width : percentage(1 / $context) * $columns;
	@if $gridle-direction == rtl { margin-left:$width; }
	@else { margin-right:$width; }

	// debug css :
	@if $gridle-debug == true and $gridle-debug-show-class-names == true {
		#{$gridle-debug-selector} {
			&:after {
				content:"suffix-#{$state}-#{$columns * $gridle-name-multiplicator}" !important;
			}
		}
	}
}


// grid background :
// Display the grid background debug
@mixin gridle_grid_background(
	$state-context : null,
	$state : null
) {

	// variables :
	$context : $gridle-columns-count;
	@if type-of($state-context) == number {
		$state : $state;
		$context : $state-context;
	} @elseif $state {
		$state : $state-context;
		$context : _gridle_get_state_var($state,'context');
	}

	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_grid_background($state,$context);
		}
	} @else {
		@include _gridle_grid_background($state,$context);
	}
}
@mixin _gridle_grid_background(
	$state : null,
	$context : $gridle-columns-count
) {
	
	position:relative;
	z-index:9999;
	&:before {
		content:'.';
		position:absolute;
		top:0; left:0;
		width:100%; height:100% !important;
		// vars :
		$width : percentage(1 / $context);
		background: linear-gradient(to right, rgba(255,0,0,.2) 50% , rgba(0,255,0,.2) 50%); /* Standard syntax */
		background-size:($width*2) 100%;
		// background-position:$gridle-gutter-width/2 0;
	}
	

	// debug css :
	// @if $gridle-debug == true and $gridle-debug-show-class-names == true {
	// 	#{$gridle-debug-selector} {
	// 		&:after {
	// 			content:"suffix-#{$state}-#{$columns * $gridle-name-multiplicator}" !important;
	// 		}
	// 	}
	// }
}


// Grid centered :
@mixin gridle_centered(
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_centered();
		}
	} @else {
		@include _gridle_centered();
	}
}
@mixin _gridle_centered() {
	display:block !important;
	float:none !important;
	margin-left:auto !important;
	margin-right:auto !important;
	clear:both !important;
}


// Grid parent :
@mixin gridle_parent(
	$state : null
) {
	// common :
	@include _gridle_parent_common();
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_parent();
		}
	} @else {
		@include _gridle_parent();
	}
}
@mixin _gridle_parent() {
	@include gridle_no_gutter();
}


// Hide on :
// @param 	String 	$media  On what state
@mixin gridle_hide(
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_hide();
		}
	} @else {
		@include _gridle_hide();
	}
}
@mixin _gridle_hide() {
	display:none;
}


// Not visible on :
// @param 	String 	$media 	What to hide (one of the 3 state classes name)
@mixin gridle_not_visible(
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_not_visible();
		}
	} @else {
		@include _gridle_not_visible();
	}
}
@mixin _gridle_not_visible() {
	visibility:hidden;
}


// Show on
// @param 	String 	$media 	What to hide (one of the 3 state classes name)
@mixin gridle_show(
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_show();
		}
	} @else {
		@include _gridle_show();
	}
}
@mixin _gridle_show() {
	display:block;
}


// Visible on :
// @param 	String 	$media 	On what state
@mixin gridle_visible(
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_visible();
		}
	} @else {
		@include _gridle_visible();
	}
}
@mixin _gridle_visible() {
	visibility:visible;
}


// Gridle Right :
@mixin gridle_float(
	$float-direction : left,
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include gridle_float($float-direction);
		}
	} @else {
		@include gridle_float($float-direction);
	}
}
@mixin gridle_float(
	$float-direction : left
) {
	float:#{$float-direction};
}


// Gridle clear :
// @param 	String 	$clear-direction 	The direction to clear
// @param 	String 	$state 				The state
@mixin gridle_clear(
	$clear-direction : both,
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_clear($clear-direction);
		}
	} @else {
		@include _gridle_clear($clear-direction);
	}
}
@mixin _gridle_clear(
	$clear-direction : both
) {
	clear:#{$clear-direction};
}


// Gridle no gutter :
// @param 	String 	$side 				The side to clear
// @param 	String 	$state 				The state
@mixin gridle_no_gutter(
	$side : left right,
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_no_gutter($side);
		}
	} @else {
		@include _gridle_no_gutter($side);
	}
}
@mixin gridle_no_margin(
	$side : left right,
	$state : null
) {
	@include gridle_no_gutter($side, $state);
}
@mixin _gridle_no_gutter(
	$side : left right
) {
	@each $s in $side {
		padding-#{$s} : 0 !important;
	}
}


// Gridle gutter :
// @param 	String 	$side 				The side to clear
// @param 	String 	$state 				The state
@mixin gridle_gutter(
	$side : left right,
	$state : null
) {
	// check if need media query :
	@if $state {
		@include gridle_state($state) {
			@include _gridle_gutter($side);
		}
	} @else {
		@include _gridle_gutter($side);
	}
}
// shortcut :
@mixin gridle_margin(
	$side : left right,
	$state : null
) {
	@include gridle_gutter($side, $state);
}
@mixin _gridle_gutter(
	$side : left right
) {
	@each $s in $side {
		padding-#{$s} : $gridle-gutter-width / 2;
	}
}


// Generate all helpers classes
// All the classes generated are not wrapper in gridle_state
// in this mixin... Just the names are generated accordingly to the
// requested state
@mixin _gridle_generate_helper_classes (
	$state : null
) {
	// helpers :
	#{_gridle_classname($gridle-hide-name-pattern, $state)} {
		@include gridle_hide(null);
	}
	#{_gridle_classname($gridle-not-visible-name-pattern, $state)} {
		@include gridle_not_visible(null);
	}
	#{_gridle_classname($gridle-show-name-pattern, $state)} {
		@include gridle_show(null);
	}
	#{_gridle_classname($gridle-visible-name-pattern, $state)} {
		@include gridle_visible(null);
	}
	#{_gridle_classname($gridle-float-left-name-pattern, $state)} {
		@include gridle_float(left);
	}
	#{_gridle_classname($gridle-float-right-name-pattern, $state)} {
		@include gridle_float(right);
	}
	#{_gridle_classname($gridle-clear-name-pattern, $state)} {
		@include gridle_clear(both);
	}
	#{_gridle_classname($gridle-clear-left-name-pattern, $state)} {
		@include gridle_clear(left);
	}
	#{_gridle_classname($gridle-clear-right-name-pattern, $state)} {
		@include gridle_clear(right);
	}
	#{_gridle_classname($gridle-no-gutter-name-pattern, $state)},
	#{_gridle_classname($gridle-no-margin-name-pattern, $state)} {
		@include gridle_no_margin();
	}
	#{_gridle_classname($gridle-no-gutter-left-name-pattern, $state)},
	#{_gridle_classname($gridle-no-margin-left-name-pattern, $state)} {
		@include gridle_no_margin(left);
	}
	#{_gridle_classname($gridle-no-gutter-right-name-pattern, $state)},
	#{_gridle_classname($gridle-no-margin-right-name-pattern, $state)} {
		@include gridle_no_margin(right);
	}
	#{_gridle_classname($gridle-no-gutter-top-name-pattern, $state)},
	#{_gridle_classname($gridle-no-margin-top-name-pattern, $state)} {
		@include gridle_no_margin(top);
	}
	#{_gridle_classname($gridle-no-gutter-bottom-name-pattern, $state)},
	#{_gridle_classname($gridle-no-margin-bottom-name-pattern, $state)} {
		@include gridle_no_margin(bottom);
	}
	#{_gridle_classname($gridle-no-gutter-top-name-pattern, $state)},
	#{_gridle_classname($gridle-margin-name-pattern, $state)} {
		@include gridle_margin();
	}
	#{_gridle_classname($gridle-gutter-left-name-pattern, $state)},
	#{_gridle_classname($gridle-margin-left-name-pattern, $state)} {
		@include gridle_margin(left);
	}
	#{_gridle_classname($gridle-gutter-right-name-pattern, $state)},
	#{_gridle_classname($gridle-margin-right-name-pattern, $state)} {
		@include gridle_margin(right);
	}
	#{_gridle_classname($gridle-gutter-top-name-pattern, $state)},
	#{_gridle_classname($gridle-margin-top-name-pattern, $state)} {
		@include gridle_margin(top);
	}
	#{_gridle_classname($gridle-gutter-bottom-name-pattern, $state)},
	#{_gridle_classname($gridle-margin-bottom-name-pattern, $state)} {
		@include gridle_margin(bottom);
	}
	#{_gridle_classname($gridle-auto-height-name-pattern, $state)} {
		height:inherit;
	}
	#{_gridle_classname($gridle-centered-name-pattern, $state)} {
		@include gridle_centered(null);
	}
	#{_gridle_classname($gridle-parent-name-pattern, $state)} {
		@include _gridle_parent(); // gridle_parent contain extend so can not be here in a media query
	}

	// debug colors :
	@if $gridle-debug {
		// debug color classes :
		#{_gridle_classname($gridle-debug-color-name-pattern, $state, 1)} {
			#{$gridle-debug-selector} {
				background-color : #edeeb2;
			}
		}
		#{_gridle_classname($gridle-debug-color-name-pattern, $state, 2)} {
			#{$gridle-debug-selector} {
				background-color : #fae4a7;
			}
		}
		#{_gridle_classname($gridle-debug-color-name-pattern, $state, 3)} {
			#{$gridle-debug-selector} {
				background-color : #f5eacc;
			}
		}
		#{_gridle_classname($gridle-debug-color-name-pattern, $state, 4)} {
			#{$gridle-debug-selector} {
				background-color : #eebdb2;
			}
		}
		#{_gridle_classname($gridle-debug-color-name-pattern, $state, 5)} {
			#{$gridle-debug-selector} {
				background-color : #d4b2ee;
			}
		}
		#{_gridle_classname($gridle-debug-color-name-pattern, $state, 6)} {
			#{$gridle-debug-selector} {
				background-color : #b2d8ee;
			}
		}
	}
}


// generate settings json :
@mixin gridle_generate_json_settings(
	$scope : default
) {

	// settings content :
	$gridle-settings-states : "{";

	// generate all classes for differents media queries :
	
	@for $i from 1 through _gridle_states_count() {

		$name : _gridle_get_state_var($i,"name");

		$gridle-settings-states : "#{$gridle-settings-states} \"#{$name}\":{";
	
		@each $var in $_gridle_states_vars_pattern {

			$value : null;
			@if $var == "query" {
				$value : _get_media_query_for_state($name);
			} @else {
				$value : _gridle_get_state_var($i,$var);
			}

			@if $value == null {
				$gridle-settings-states : "#{$gridle-settings-states} \"#{$var}\" : null,";
			} @elseif $var == 'context' or $var == 'classes' {
				$gridle-settings-states : "#{$gridle-settings-states} \"#{$var}\" : #{$value},";
			} @else {
				$gridle-settings-states : "#{$gridle-settings-states} \"#{$var}\" : \"#{$value}\",";		
			}
		}

		$gridle-settings-states : "#{$gridle-settings-states} },";

	}

	 // generate settings json :
	$gridle-settings-states : "#{$gridle-settings-states}}";
	$gridle-settings : "{";
	$gridle-settings : "#{$gridle-settings} \"version\" : \"#{$_gridle-version}\"";
	
	// states :
	$gridle-settings : "#{$gridle-settings}, \"states\" : #{$gridle-settings-states}";
	
	// debug devices :
	$debug_devices : $_gridle_states_debug_devices;
	@if length($_gridle_states_debug_devices) <= 0 {
		$debug_devices : null;
	}
	$gridle-settings : "#{$gridle-settings}, \"debugDevices\" : { #{$debug_devices} }";

	// settings :
	$gridle-settings : "#{$gridle-settings}, \"columnsCount\" : #{$gridle-columns-count}";
	$gridle-settings : "#{$gridle-settings}, \"gutterWidth\" : \"#{$gridle-gutter-width}\"";
	$gridle-settings : "#{$gridle-settings}, \"nameMultiplicator\" : #{$gridle-name-multiplicator}";
	$gridle-settings : "#{$gridle-settings}, \"direction\" : \"#{$gridle-direction}\"";
	$gridle-settings : "#{$gridle-settings}, \"ie7Support\" : #{$gridle-ie7-support}";
	$gridle-settings : "#{$gridle-settings}, \"debug\" : #{$gridle-debug}";
	$gridle-settings : "#{$gridle-settings}, \"debugShowClassNames\" : #{$gridle-debug-show-class-names}";
	$gridle-settings : "#{$gridle-settings}, \"htmlStatesClasses\" : #{$gridle-html-states-classes}";
	$gridle-settings : "#{$gridle-settings}, \"generateHelpersClasses\" : #{$gridle-generate-helpers-classes}";
	$gridle-settings : "#{$gridle-settings}, \"generatePushClasses\" : #{$gridle-generate-push-classes}";
	$gridle-settings : "#{$gridle-settings}, \"generatePullClasses\" : #{$gridle-generate-pull-classes}";
	$gridle-settings : "#{$gridle-settings}, \"generatePrefixClasses\" : #{$gridle-generate-prefix-classes}";
	$gridle-settings : "#{$gridle-settings}, \"generateSuffixClasses\" : #{$gridle-generate-suffix-classes}";
	$gridle-settings : "#{$gridle-settings}, \"classPrefix\" : \"#{$gridle-class-prefix}\"";
	$gridle-settings : "#{$gridle-settings} }";
	#gridle-settings-#{$scope} {
		content : $gridle-settings;
	}
}


// gridle mixin :
// Generate all the classes needed for a grid
@mixin gridle_generate_classes(
	$scope : null
) {
	// check if a scope exist :
	@if $scope {
		// wrapp grid into scope :
		.#{$scope} {
			@include _gridle_generate_classes(true);
		}
	} @else {
		// generate classes :
		@include _gridle_generate_classes(false);
	}
}
@mixin _gridle_generate_classes(
	$has-parent
) {
 
	// check if debug is activated :
	@if $gridle-debug {
		$gridle-html-states-classes : true;
	}

	// Windows 8 fix for snap mode :
	@media screen and (max-width: 400px) {
		@-ms-viewport { width: device-width; }
	}
 
	// generate container class :
	$container-selector : ();
	$container-selector : append( $container-selector, unquote(_gridle_classname($gridle-container-name-pattern)), comma);
	#{$container-selector} {
		@include gridle_container();
	}

	// parent common css :
	$parentSelector : _gridle_classname($gridle-parent-name-pattern,null,null);
	#{$parentSelector} {
		@extend %gridle-clearfix;
		@extend %gridle-parent-common;
	}
 
	// generate all grid-x classes :
	@for $i from 0 through $gridle-columns-count {
 
		// variables :
		$calculatedSelector : "#{$i*$gridle-name-multiplicator}";

		// classes :
		#{_gridle_classname($gridle-grid-name-pattern, null, $calculatedSelector)} {
			@include _gridle($i);
		}
		@if $gridle-generate-push-classes == true {
			#{_gridle_classname($gridle-push-name-pattern, null, $calculatedSelector)} {
				@include _gridle_push($i);
			}
		}
		@if $gridle-generate-pull-classes == true {
			#{_gridle_classname($gridle-pull-name-pattern, null, $calculatedSelector)} {
				@include _gridle_pull($i);
			}
		}
		@if $gridle-generate-prefix-classes == true {
			#{_gridle_classname($gridle-prefix-name-pattern, null, $calculatedSelector)} {
				@include _gridle_prefix($i);
			}
		}
		@if $gridle-generate-suffix-classes == true {
			#{_gridle_classname($gridle-suffix-name-pattern, null, $calculatedSelector)} {
				@include _gridle_suffix($i);
			}
		}
	}
 
	// helpers classes :
	@if $gridle-generate-helpers-classes == true {
		@include _gridle_generate_helper_classes();
	}
 
	// generate all selector for extends :
	$push-common-selector : ();
	$pull-common-selector : ();
	$prefix-common-selector : ();
	$suffix-common-selector : ();
	$common-selector : ();
	
	@for $i from 0 through $gridle-columns-count {

		// variables :
		$calculatedSelector : "#{$i*$gridle-name-multiplicator}";

		// selectors :
		$common-selector : append( $common-selector, unquote(_gridle_classname($gridle-grid-name-pattern, null, $calculatedSelector)), comma );
		$push-common-selector : append( $push-common-selector, unquote(_gridle_classname($gridle-push-name-pattern, null, $calculatedSelector)), comma );
		$pull-common-selector : append( $pull-common-selector, unquote(_gridle_classname($gridle-pull-name-pattern, null, $calculatedSelector)), comma );
		$prefix-common-selector : append( $prefix-common-selector, unquote(_gridle_classname($gridle-prefix-name-pattern, null, $calculatedSelector)), comma );
		$suffix-common-selector : append( $suffix-common-selector, unquote(_gridle_classname($gridle-suffix-name-pattern, null, $calculatedSelector)), comma );
	}

	// generate all classes for media queries :
	@for $j from 1 through _gridle_states_count() {

		// setup vars :
		$media : _gridle_get_state_var($j,"name");
		$classes : _gridle_get_state_var($j,"classes");
		$context : _gridle_get_state_var($j,"context");

		// generate classes :   
		@if $media and $classes == true and $context {

			@for $i from 0 through $context {

				// variables :
				$calculatedSelector : "#{$i*$gridle-name-multiplicator}";
		 						
				// add selector :
				$common-selector : append( $common-selector, unquote(_gridle_classname($gridle-grid-name-pattern, $media, $calculatedSelector)), comma );
				$push-common-selector : append( $push-common-selector, unquote(_gridle_classname($gridle-push-name-pattern, $media, $calculatedSelector)), comma );
				$pull-common-selector : append( $pull-common-selector, unquote(_gridle_classname($gridle-pull-name-pattern, $media, $calculatedSelector)), comma );
				$prefix-common-selector : append( $prefix-common-selector, unquote(_gridle_classname($gridle-prefix-name-pattern, $media, $calculatedSelector)), comma );
				$suffix-common-selector : append( $suffix-common-selector, unquote(_gridle_classname($gridle-suffix-name-pattern, $media, $calculatedSelector)), comma );
			}
		}
	}
 
	// common css :
	#{$push-common-selector} {
		@include _gridle_push_common();
	}
	#{$pull-common-selector} {
		@include _gridle_pull_common();
	}
	#{$prefix-common-selector} {
		@include _gridle_prefix_common();
	}
	#{$suffix-common-selector} {
		@include _gridle_suffix_common();
	}
	#{$common-selector} {
		@include _gridle_grid_common();
	}
 
	// generate all classes for differents media queries :
	@for $i from 1 through _gridle_states_count() {
		// setup vars :
		$media : _gridle_get_state_var($i,"name");
		$classes : _gridle_get_state_var($i,"classes");
		$min-width : _gridle_get_state_var($i,"min-width");
		$max-width : _gridle_get_state_var($i,"max-width");
		$query : _gridle_get_state_var($i,"query");
		$context : _gridle_get_state_var($i,"context");

		// parent common css :
		$parentSelector : _gridle_classname($gridle-parent-name-pattern,$media,null);
		#{$parentSelector} {
			@extend %gridle-clearfix;
			@extend %gridle-parent-common;
		}

		// generate all media queries grid classes :
		@if $media and $classes == true {
 
			// generate all the classes :
			@include gridle_state($media, null, $has-parent) {
		 
				@for $j from 0 through $context {
		 
					// variables :
					$calculatedSelector : "#{$j*$gridle-name-multiplicator}";

					// classes :
					// #{_gridle_classname("grid-#{$media}-#{$calculatedSelector}")} {
					#{_gridle_classname($gridle-grid-name-pattern, $media, $calculatedSelector)} {
						@include _gridle($j, $media, $context);
					}
					@if $gridle-generate-push-classes == true {
						#{_gridle_classname($gridle-push-name-pattern, $media, $calculatedSelector)} {
							@include _gridle_push($j, $media, $context);
						}
					}
					@if $gridle-generate-pull-classes == true {
						#{_gridle_classname($gridle-pull-name-pattern, $media, $calculatedSelector)} {
							@include _gridle_pull($j, $media, $context);
						}
					}
					@if $gridle-generate-prefix-classes == true {
						#{_gridle_classname($gridle-prefix-name-pattern, $media, $calculatedSelector)} {
							@include _gridle_prefix($j, $media, $context);
						}
					}
					@if $gridle-generate-suffix-classes == true {
						#{_gridle_classname($gridle-suffix-name-pattern, $media, $calculatedSelector)} {
							@include _gridle_suffix($j, $media, $context);
						}   
					}
				}
 
				// media queries helpers classes :
				@if $gridle-generate-helpers-classes == true and $media {
					@include _gridle_generate_helper_classes($media);
				}
			}
		}
	}
 
	// generate json settings :
	@include gridle_generate_json_settings();
}